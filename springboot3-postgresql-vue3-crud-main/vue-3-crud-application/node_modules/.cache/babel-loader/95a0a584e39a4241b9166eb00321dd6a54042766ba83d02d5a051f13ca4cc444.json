{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserDataService from \"../service/UserDataService\";\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      user: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\"\n      },\n      errors: []\n    };\n  },\n  methods: {\n    refreshUserDetails() {\n      UserDataService.retrieveUser(this.id).then(res => {\n        this.name = res.data.name;\n        this.email = res.data.email;\n        this.password = res.data.password;\n      });\n    },\n    validateAndSubmit(e) {\n      e.preventDefault();\n      this.errors = [];\n      if (!this.user.name) {\n        this.errors.push(\"Enter valid values\");\n      }\n      UserDataService.findUserByName(this.user.name).then(res => {\n        if (res.data.name === this.user.name) {\n          this.errors.push(\"User already exists\");\n        }\n      });\n      if (this.errors.length === 0) {\n        UserDataService.createUser({\n          name: this.user.name,\n          email: this.user.email,\n          password: this.user.password\n        }).then(res => {\n          this.user.id = res.data.id;\n          this.$router.push(`/user/${this.user.id}/data`);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AA4BA,OAAOA,eAAc,MAAO,4BAA4B;AACxD,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,IAAI,GAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,EAAE,EAAE,EAAE;QACNH,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACd,CAAC;MACDC,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,kBAAkB,GAAG;MACjBT,eAAe,CAACU,YAAY,CAAC,IAAI,CAACN,EAAE,CAAC,CAACO,IAAI,CAAEC,GAAG,IAAK;QAChD,IAAI,CAACX,IAAG,GAAIW,GAAG,CAACV,IAAI,CAACD,IAAI;QACzB,IAAI,CAACI,KAAI,GAAIO,GAAG,CAACV,IAAI,CAACG,KAAK;QAC3B,IAAI,CAACC,QAAO,GAAIM,GAAG,CAACV,IAAI,CAACI,QAAQ;MACrC,CAAC,CAAC;IACN,CAAC;IACDO,iBAAiB,CAACC,CAAC,EAAE;MACjBA,CAAC,CAACC,cAAc,EAAC;MACjB,IAAI,CAACR,MAAK,GAAI,EAAE;MAChB,IAAI,CAAC,IAAI,CAACJ,IAAI,CAACF,IAAI,EAAE;QACjB,IAAI,CAACM,MAAM,CAACS,IAAI,CAAC,oBAAoB,CAAC;MAC1C;MACAhB,eAAe,CAACiB,cAAc,CAAC,IAAI,CAACd,IAAI,CAACF,IAAI,CAAC,CAACU,IAAI,CAAEC,GAAG,IAAK;QACzD,IAAIA,GAAG,CAACV,IAAI,CAACD,IAAG,KAAM,IAAI,CAACE,IAAI,CAACF,IAAI,EAAE;UAClC,IAAI,CAACM,MAAM,CAACS,IAAI,CAAC,qBAAqB,CAAC;QAC3C;MACJ,CAAC,CAAC;MACF,IAAI,IAAI,CAACT,MAAM,CAACW,MAAK,KAAM,CAAC,EAAE;QAC1BlB,eAAe,CAACmB,UAAU,CAAC;UACvBlB,IAAI,EAAE,IAAI,CAACE,IAAI,CAACF,IAAI;UACpBI,KAAK,EAAE,IAAI,CAACF,IAAI,CAACE,KAAK;UACtBC,QAAQ,EAAE,IAAI,CAACH,IAAI,CAACG;QACxB,CAAC,CAAC,CAACK,IAAI,CAAEC,GAAG,IAAK;UACb,IAAI,CAACT,IAAI,CAACC,EAAC,GAAIQ,GAAG,CAACV,IAAI,CAACE,EAAE;UAC1B,IAAI,CAACgB,OAAO,CAACJ,IAAI,CAAE,SAAQ,IAAI,CAACb,IAAI,CAACC,EAAG,OAAM,CAAC;QACnD,CAAC,CAAC;MACN;IACJ;EACJ;AACJ,CAAC","names":["UserDataService","name","data","user","id","email","password","errors","methods","refreshUserDetails","retrieveUser","then","res","validateAndSubmit","e","preventDefault","push","findUserByName","length","createUser","$router"],"sourceRoot":"","sources":["F:\\Study\\NKD\\2023FALL\\NP\\Target\\springboot3-postgresql-vue3-crud-main\\vue-3-crud-application\\src\\components\\Register.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <h3>注册</h3>\r\n                <form @submit=\"validateAndSubmit\">\r\n                    <div class=\"form-group\">\r\n                        <label>姓名</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"user.name\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>邮箱</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"user.email\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>密码</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"user.password\">\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-success\">Register</button>\r\n                    <router-link to=\"/login\" class=\"btn btn-link\">Login</router-link>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport UserDataService from \"../service/UserDataService\";\r\nexport default {\r\n    name: \"Register\",\r\n    data() {\r\n        return {\r\n            user: {\r\n                id: \"\",\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            errors: []\r\n        };\r\n    },\r\n    methods: {\r\n        refreshUserDetails() {\r\n            UserDataService.retrieveUser(this.id).then((res) => {\r\n                this.name = res.data.name;\r\n                this.email = res.data.email;\r\n                this.password = res.data.password;\r\n            });\r\n        },\r\n        validateAndSubmit(e) {\r\n            e.preventDefault()\r\n            this.errors = [];\r\n            if (!this.user.name) {\r\n                this.errors.push(\"Enter valid values\");\r\n            }\r\n            UserDataService.findUserByName(this.user.name).then((res) => {\r\n                if (res.data.name === this.user.name) {\r\n                    this.errors.push(\"User already exists\");\r\n                }\r\n            });\r\n            if (this.errors.length === 0) {\r\n                UserDataService.createUser({\r\n                    name: this.user.name,\r\n                    email: this.user.email,\r\n                    password: this.user.password,\r\n                }).then((res) => {\r\n                    this.user.id = res.data.id;\r\n                    this.$router.push(`/user/${this.user.id}/data`);\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}